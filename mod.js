// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
function t(t){var r=t.default;if("function"==typeof r){var e=function(){return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=function(){try{return r({},"x",{}),!0}catch(t){return!1}},n=Object.defineProperty,i=Object.prototype,o=i.toString,u=i.__defineGetter__,a=i.__defineSetter__,f=i.__lookupGetter__,s=i.__lookupSetter__;var c=function(t,r,e){var n,c,h,l;if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+e+"`.");if((c="value"in e)&&(f.call(t,r)||s.call(t,r)?(n=t.__proto__,t.__proto__=i,delete t[r],t[r]=e.value,t.__proto__=n):t[r]=e.value),h="get"in e,l="set"in e,c&&(h||l))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return h&&u&&u.call(t,r,e.get),l&&a&&a.call(t,r,e.set),t},h=n,l=c,p=e()?h:l,y=p;var g=function(t,r,e){y(t,r,{configurable:!1,enumerable:!1,writable:!1,value:e})},v=g;var d=function(t){return"number"==typeof t};var m=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var w=function(){return m&&"symbol"==typeof Symbol.toStringTag},b=Object.prototype.toString,_=b;var E=function(t){return _.call(t)},A=Object.prototype.hasOwnProperty;var O=function(t,r){return null!=t&&A.call(t,r)},j="function"==typeof Symbol?Symbol.toStringTag:"",R=O,T=j,P=b;var U=E,I=function(t){var r,e,n;if(null==t)return P.call(t);e=t[T],r=R(t,T);try{t[T]=void 0}catch(r){return P.call(t)}return n=P.call(t),r?t[T]=e:delete t[T],n},S=w()?I:U,B=Number,x=B.prototype.toString;var N=S,C=B,M=function(t){try{return x.call(t),!0}catch(t){return!1}},Y=w();var L=function(t){return"object"==typeof t&&(t instanceof C||(Y?M(t):"[object Number]"===N(t)))},V=d,D=L;var F=v,k=function(t){return V(t)||D(t)},z=L;F(k,"isPrimitive",d),F(k,"isObject",z);var G=k,J=Number.POSITIVE_INFINITY,W=B.NEGATIVE_INFINITY,X=Math.floor,q=X;var $=function(t){return q(t)===t},H=J,Z=W,K=$;var Q=function(t){return t<H&&t>Z&&K(t)},tt=G.isPrimitive,rt=Q;var et=function(t){return tt(t)&&rt(t)},nt=G.isObject,it=Q;var ot=function(t){return nt(t)&&it(t.valueOf())},ut=et,at=ot;var ft=v,st=function(t){return ut(t)||at(t)},ct=ot;ft(st,"isPrimitive",et),ft(st,"isObject",ct);var ht=st,lt=ht.isPrimitive;var pt=function(t){return lt(t)&&t>0},yt=ht.isObject;var gt=function(t){return yt(t)&&t.valueOf()>0},vt=pt,dt=gt;var mt=v,wt=function(t){return vt(t)||dt(t)},bt=gt;mt(wt,"isPrimitive",pt),mt(wt,"isObject",bt);var _t=wt;var Et=function(t){return"boolean"==typeof t},At=Boolean.prototype.toString;var Ot=S,jt=function(t){try{return At.call(t),!0}catch(t){return!1}},Rt=w();var Tt=function(t){return"object"==typeof t&&(t instanceof Boolean||(Rt?jt(t):"[object Boolean]"===Ot(t)))},Pt=Et,Ut=Tt;var It=v,St=function(t){return Pt(t)||Ut(t)},Bt=Tt;It(St,"isPrimitive",Et),It(St,"isObject",Bt);var xt=St;var Nt="object"==typeof self?self:null,Ct="object"==typeof window?window:null,Mt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Yt=xt.isPrimitive,Lt=function(){return new Function("return this;")()},Vt=Nt,Dt=Ct,Ft=t(Object.freeze({__proto__:null}));var kt=function(t){if(arguments.length){if(!Yt(t))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+t+"`.");if(t)return Lt()}if(Vt)return Vt;if(Dt)return Dt;if(Ft)return Ft;throw new Error("unexpected error. Unable to resolve global object.")},zt=kt,Gt=zt();var Jt=function(){return"function"==typeof Gt.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Gt.BigInt("1")&&"bigint"==typeof BigInt("1")},Wt=p;var Xt=function(t,r,e){Wt(t,r,{configurable:!1,enumerable:!1,get:e})},qt=Xt,$t={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};var Ht=function(t){return $t[t]||null};var Zt=function(t){var r,e;for(r=0,e=0;e<t.length;e++)t[e]<0&&(r+=1);return 0===r?1:r===t.length?-1:0};var Kt=function(t){return Math.abs(t)};var Qt=function(t){var r,e,n,i,o,u;if(0===(e=t.length))return 0;for(r=!0,n=!0,i=Kt(t[0]),u=1;u<e;u++){if(o=Kt(t[u]),r&&o<i?r=!1:n&&o>i&&(n=!1),!n&&!r)return 0;i=o}return n&&r?3:n?1:2};var tr=function(t,r){return r&&(2===t||3===t)};var rr=function(t,r){return r&&(1===t||3===t)};var er=function(t,r,e){var n,i,o,u,a;for(n=t.length,i=e,o=e,a=0;a<n;a++){if(0===t[a])return[e,e];(u=r[a])>0?o+=u*(t[a]-1):u<0&&(i+=u*(t[a]-1))}return[i,o]};v(er,"assign",(function(t,r,e,n){var i,o,u,a,f;for(i=t.length,o=e,u=e,f=0;f<i;f++){if(0===t[f])return n[0]=e,n[1]=e,n;(a=r[f])>0?u+=a*(t[f]-1):a<0&&(o+=a*(t[f]-1))}return n[0]=o,n[1]=u,n}));var nr=er,ir=nr;var or=function(t,r,e,n,i){var o;return 0!==t&&0!==i&&t===(o=ir(r,e,n))[1]-o[0]+1};var ur=function(t){return{ROW_MAJOR_CONTIGUOUS:t.ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY}};var ar=function(t){var r,e,n,i,o,u;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(e=this._shape,r=this._strides,i=this._offset,"column-major"===this._order){for(u=0;u<n;u++)t-=o=t%e[u],t/=e[u],i+=o*r[u];return this._accessors?this._buffer.get(i):this._buffer[i]}for(u=n-1;u>=0;u--)t-=o=t%e[u],t/=e[u],i+=o*r[u];return this._accessors?this._buffer.get(i):this._buffer[i]};var fr=function(t,r){var e,n,i,o,u,a;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(r,this._offset+t):this._buffer[this._offset+t]=r,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(r,this._offset-t):this._buffer[this._offset-t]=r,this}if(n=this._shape,e=this._strides,o=this._offset,"column-major"===this._order){for(a=0;a<i;a++)t-=u=t%n[a],t/=n[a],o+=u*e[a];return this._accessors?this._buffer.set(r,o):this._buffer[o]=r,this}for(a=i-1;a>=0;a--)t-=u=t%n[a],t/=n[a],o+=u*e[a];return this._accessors?this._buffer.set(r,o):this._buffer[o]=r,this};var sr=function(){var t,r;for(t=this._offset,r=0;r<arguments.length-1;r++)t+=this._strides[r]*arguments[r];return this._accessors?this._buffer.set(arguments[r],t):this._buffer[t]=arguments[r],this};var cr=function(){var t,r;for(t=this._offset,r=0;r<arguments.length;r++)t+=this._strides[r]*arguments[r];return this._accessors?this._buffer.get(t):this._buffer[t]};var hr=function(t){return t.re};var lr=function(t){return t.im},pr=hr,yr=lr;var gr=function(){var t,r,e,n;for(r=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<r;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<r;n++)e=this.iget(n),t.data.push(pr(e),yr(e));else for(n=0;n<r;n++)t.data.push(this.iget(n));return t};var vr=function(t){return"string"==typeof t},dr=String.prototype.valueOf;var mr=S,wr=function(t){try{return dr.call(t),!0}catch(t){return!1}},br=w();var _r=function(t){return"object"==typeof t&&(t instanceof String||(br?wr(t):"[object String]"===mr(t)))},Er=vr,Ar=_r;var Or=v,jr=function(t){return Er(t)||Ar(t)},Rr=_r;Or(jr,"isPrimitive",vr),Or(jr,"isObject",Rr);var Tr=jr,Pr=Tr.isPrimitive,Ur=/[-\/\\^$*+?.()|[\]{}]/g;var Ir=function(t){var r,e;if(!Pr(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");if("/"===t[0])for(e=t.length-1;e>=0&&"/"!==t[e];e--);return void 0===e||e<=0?t.replace(Ur,"\\$&"):(r=(r=t.substring(1,e)).replace(Ur,"\\$&"),t=t[0]+r+t.substring(e))},Sr=/./,Br=zt(),xr=Br.document&&Br.document.childNodes,Nr=Int8Array,Cr=Sr,Mr=xr,Yr=Nr;var Lr=function(){return"function"==typeof Cr||"object"==typeof Yr||"function"==typeof Mr};var Vr=function(){return/^\s*function\s*([^(]*)/i},Dr=Vr;v(Dr,"REGEXP",Vr());var Fr=Dr,kr=S;var zr=Array.isArray?Array.isArray:function(t){return"[object Array]"===kr(t)},Gr=zr;var Jr=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var e,n;if(!Gr(r))return!1;if(0===(e=r.length))return!1;for(n=0;n<e;n++)if(!1===t(r[n]))return!1;return!0}};var Wr=function(t){return null!==t&&"object"==typeof t};v(Wr,"isObjectLikeArray",Jr(Wr));var Xr=Wr,qr=Xr;var $r=function(t){return qr(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))},Hr=S,Zr=Fr.REGEXP,Kr=$r;var Qr=function(t){var r,e,n;if(("Object"===(e=Hr(t).slice(8,-1))||"Error"===e)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(r=Zr.exec(n.toString()))return r[1]}return Kr(t)?"Buffer":e},te=Qr;var re=Qr;var ee=function(t){var r;return null===t?"null":"object"===(r=typeof t)?te(t).toLowerCase():r},ne=function(t){return re(t).toLowerCase()},ie=Lr()?ne:ee,oe=ie;var ue=function(t){return"function"===oe(t)},ae=RegExp.prototype.exec;var fe=S,se=function(t){try{return ae.call(t),!0}catch(t){return!1}},ce=w();var he=Ir,le=ue,pe=Tr.isPrimitive,ye=function(t){return"object"==typeof t&&(t instanceof RegExp||(ce?se(t):"[object RegExp]"===fe(t)))};var ge=function(t,r,e){if(!pe(t))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+t+"`.");if(pe(r))r=he(r),r=new RegExp(r,"g");else if(!ye(r))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+r+"`.");if(!pe(e)&&!le(e))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+e+"`.");return t.replace(r,e)},ve=ge,de=hr,me=lr,we={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var be=function(){var t,r,e,n,i,o,u;if(r=this._shape.length,n="ndarray( '"+(i=this._dtype)+"', ",t="",this._length<=100)if("complex64"===i||"complex128"===i)for(u=0;u<this._length;u++)o=this.iget(u),t+=de(o)+", "+me(o),u<this._length-1&&(t+=", ");else for(u=0;u<this._length;u++)t+=this.iget(u),u<this._length-1&&(t+=", ");else{if("complex64"===i||"complex128"===i)for(u=0;u<3;u++)o=this.iget(u),t+=de(o)+", "+me(o),u<2&&(t+=", ");else for(u=0;u<3;u++)t+=this.iget(u),u<2&&(t+=", ");if(t+=", ..., ","complex64"===i||"complex128"===i)for(u=2;u>=0;u--)o=this.iget(this._length-1-u),t+=de(o)+", "+me(o),u>0&&(t+=", ");else for(u=2;u>=0;u--)t+=this.iget(this._length-1-u),u>0&&(t+=", ")}if(e=we[this.dtype],n+=ve(e,"{{data}}",t),n+=", ",n+=0===r?"[]":"[ "+this._shape.join(", ")+" ]",n+=", ",n+="[ ",0===r)n+="0";else for(u=0;u<r;u++)this._strides[u]<0?n+=-this._strides[u]:n+=this._strides[u],u<r-1&&(n+=", ");return n+=" ]",n+=", ",n+="0",n+=", ",n+="'"+this._order+"'",n+=" )"},_e=S,Ee="function"==typeof Uint8Array;var Ae="function"==typeof Uint8Array?Uint8Array:null,Oe=function(t){return Ee&&t instanceof Uint8Array||"[object Uint8Array]"===_e(t)},je=Ae;var Re=function(){var t,r;if("function"!=typeof je)return!1;try{r=new je(r=[1,3.14,-3.14,256,257]),t=Oe(r)&&1===r[0]&&3===r[1]&&253===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var Te="function"==typeof Uint8Array?Uint8Array:void 0,Pe=function(){throw new Error("not implemented")},Ue=Re()?Te:Pe,Ie=S,Se="function"==typeof Uint16Array;var Be="function"==typeof Uint16Array?Uint16Array:null,xe=function(t){return Se&&t instanceof Uint16Array||"[object Uint16Array]"===Ie(t)},Ne=Be;var Ce=function(){var t,r;if("function"!=typeof Ne)return!1;try{r=new Ne(r=[1,3.14,-3.14,65536,65537]),t=xe(r)&&1===r[0]&&3===r[1]&&65533===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var Me,Ye="function"==typeof Uint16Array?Uint16Array:void 0,Le=function(){throw new Error("not implemented")},Ve=Ce()?Ye:Le,De={uint16:Ve,uint8:Ue};(Me=new De.uint16(1))[0]=4660;var Fe=52===new De.uint8(Me.buffer)[0],ke=S,ze="function"==typeof ArrayBuffer;var Ge=function(t){return ze&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===ke(t)},Je=S,We="function"==typeof Float64Array;var Xe="function"==typeof Float64Array?Float64Array:null,qe=function(t){return We&&t instanceof Float64Array||"[object Float64Array]"===Je(t)},$e=Xe;var He=function(){var t,r;if("function"!=typeof $e)return!1;try{r=new $e([1,3.14,-3.14,NaN]),t=qe(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){t=!1}return t};var Ze="function"==typeof Float64Array?Float64Array:void 0,Ke=function(){throw new Error("not implemented")},Qe=He()?Ze:Ke,tn="function"==typeof ArrayBuffer?ArrayBuffer:null,rn=Ge,en=Qe,nn=tn;var on=function(){var t,r,e;if("function"!=typeof nn)return!1;try{e=new nn(16),(t=rn(e)&&"function"==typeof nn.isView)&&((r=new en(e))[0]=-3.14,r[1]=NaN,t=t&&nn.isView(r)&&16===e.byteLength&&-3.14===r[0]&&r[1]!=r[1])}catch(r){t=!1}return t};var un="function"==typeof ArrayBuffer?ArrayBuffer:void 0,an=function(){throw new Error("not implemented")},fn=on()?un:an,sn=S,cn="function"==typeof DataView;var hn="function"==typeof DataView?DataView:null,ln=function(t){return cn&&t instanceof DataView||"[object DataView]"===sn(t)},pn=fn,yn=hn;var gn=function(){var t,r,e;if("function"!=typeof yn)return!1;try{e=new pn(24),r=new yn(e,8),(t=ln(r)&&"function"==typeof r.getFloat64&&"function"==typeof r.setFloat64)&&(r.setFloat64(0,-3.14),r.setFloat64(8,NaN),t=t&&r.buffer===e&&16===r.byteLength&&8===r.byteOffset&&-3.14===r.getFloat64(0)&&r.getFloat64(8)!=r.getFloat64(8))}catch(r){t=!1}return t};var vn="function"==typeof DataView?DataView:void 0,dn=function(){throw new Error("not implemented")},mn=gn()?vn:dn,wn="function"==typeof BigInt?BigInt:void 0,bn=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var _n=function(){return bn.slice()};var En=function(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}},An=p;var On=function(t,r,e){An(t,r,{configurable:!1,enumerable:!0,writable:!1,value:e})},jn=On;var Rn=function(t){return Object.keys(Object(t))},Tn=Rn;var Pn=function(){return function(){return 2!==(Tn(arguments)||"").length}(1,2)},Un=void 0!==Object.keys,In=S;var Sn=function(t){return"[object Arguments]"===In(t)},Bn=Sn;var xn=function(){return Bn(arguments)}();var Nn=function(t){return t!=t},Cn=G.isPrimitive,Mn=Nn;var Yn=function(t){return Cn(t)&&Mn(t)},Ln=G.isObject,Vn=Nn;var Dn=function(t){return Ln(t)&&Vn(t.valueOf())},Fn=Yn,kn=Dn;var zn=v,Gn=function(t){return Fn(t)||kn(t)},Jn=Dn;zn(Gn,"isPrimitive",Yn),zn(Gn,"isObject",Jn);var Wn,Xn=Gn,qn=Object.prototype.propertyIsEnumerable;Wn=!qn.call("beep","0");var $n=Tr,Hn=Xn.isPrimitive,Zn=ht.isPrimitive,Kn=qn,Qn=Wn;var ti=function(t,r){var e;return null!=t&&(!(e=Kn.call(t,r))&&Qn&&$n(t)?!Hn(r=+r)&&Zn(r)&&r>=0&&r<t.length:e)},ri=ti,ei=O,ni=ri,ii=zr,oi=$;var ui=xn?Sn:function(t){return null!==t&&"object"==typeof t&&!ii(t)&&"number"==typeof t.length&&oi(t.length)&&t.length>=0&&t.length<=4294967295&&ei(t,"callee")&&!ni(t,"callee")},ai=ui,fi=Rn,si=Array.prototype.slice;var ci=function(t){return ai(t)?fi(si.call(t)):fi(t)};var hi=ri((function(){}),"prototype"),li=!ri({toString:null},"toString"),pi=$;var yi=function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&pi(t.length)&&t.length>=0&&t.length<=9007199254740991},gi=Xn,vi=yi,di=Tr.isPrimitive,mi=ht.isPrimitive;var wi=function(t,r,e){var n,i;if(!vi(t)&&!di(t))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+t+"`.");if(0===(n=t.length))return-1;if(3===arguments.length){if(!mi(e))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+e+"`.");if(e>=0){if(e>=n)return-1;i=e}else(i=n+e)<0&&(i=0)}else i=0;if(gi(r)){for(;i<n;i++)if(gi(t[i]))return i}else for(;i<n;i++)if(t[i]===r)return i;return-1},bi=wi;var _i,Ei=function(t){return t.constructor&&t.constructor.prototype===t},Ai="undefined"==typeof window?void 0:window,Oi=O,ji=bi,Ri=ie,Ti=Ei,Pi=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Ui=Ai;_i=function(){var t;if("undefined"===Ri(Ui))return!1;for(t in Ui)try{-1===ji(Pi,t)&&Oi(Ui,t)&&null!==Ui[t]&&"object"===Ri(Ui[t])&&Ti(Ui[t])}catch(t){return!0}return!1}();var Ii="undefined"!=typeof window,Si=_i,Bi=Ei,xi=Ii;var Ni=Xr,Ci=O,Mi=ui,Yi=hi,Li=li,Vi=function(t){if(!1===xi&&!Si)return Bi(t);try{return Bi(t)}catch(t){return!1}},Di=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Fi=Rn,ki=ci,zi=function(t){var r,e,n,i,o,u,a;if(i=[],Mi(t)){for(a=0;a<t.length;a++)i.push(a.toString());return i}if("string"==typeof t){if(t.length>0&&!Ci(t,"0"))for(a=0;a<t.length;a++)i.push(a.toString())}else{if(!1===(n="function"==typeof t)&&!Ni(t))return i;e=Yi&&n}for(o in t)e&&"prototype"===o||!Ci(t,o)||i.push(String(o));if(Li)for(r=Vi(t),a=0;a<Di.length;a++)u=Di[a],r&&"constructor"===u||!Ci(t,u)||i.push(String(u));return i},Gi=Un?Pn()?ki:Fi:zi,Ji=jn,Wi=Gi;var Xi=function(t,r){var e,n,i;for(e=Wi(r),i=0;i<e.length;i++)n=e[i],Ji(t,n,r[n]);return t},qi=_n,$i=En,Hi=Xi;v(qi,"enum",$i),Hi(qi,$i());var Zi=qi,Ki=["row-major","column-major"];var Qi=function(){return Ki.slice()};v(Qi,"enum",(function(){return{"row-major":1,"column-major":2}}));var to=Qi,ro=["throw","clamp","wrap"];var eo=function(){return ro.slice()};v(eo,"enum",(function(){return{throw:1,clamp:2,wrap:3}}));var no=eo,io=Fe,oo=fn,uo=mn,ao=wn,fo=to.enum,so=no.enum,co=(0,Zi.enum)(),ho=fo(),lo=so();var po=function(){var t,r,e,n,i,o,u,a,f,s,c,h,l,p;if(f=this._mode||"throw",u=this._submode||[f],e=33+16*(h=this._ndims)+(l=u.length),(a=this.__meta_dataview__)&&a.byteLength===e)return a;for(a=new uo(new oo(e)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,s=0,a.setInt8(s,io?1:0),s+=1,a.setInt16(s,co[n],io),s+=2,a.setBigInt64(s,ao(h),io),c=8*h,s+=8,p=0;p<h;p++)a.setBigInt64(s,ao(i[p]),io),a.setBigInt64(s+c,ao(o[p]*t),io),s+=8;for(s+=c,a.setBigInt64(s,ao(this._offset*t),io),s+=8,a.setInt8(s,ho[this._order]),s+=1,a.setInt8(s,lo[f]),s+=1,a.setBigInt64(s,ao(l),io),s+=8,p=0;p<l;p++)a.setInt8(s,lo[u[p]]),s+=1;return r=0,r|=this._flags.READONLY?4:0,a.setInt32(s,r,io),this.__meta_dataview__=a,a},yo=Fe,go=Ue,vo=mn,mo=X;var wo=function(t){var r,e,n,i;return r=new go(8),0===t||(i=(4294967295&t)>>>0,n=mo(t/4294967296),e=new vo(r.buffer),yo?(e.setUint32(0,i,yo),e.setUint32(4,n,yo)):(e.setUint32(0,n,yo),e.setUint32(4,i,yo))),r},bo=Fe,_o=mn,Eo=X,Ao=new Ue(8),Oo=new _o(Ao.buffer);var jo=wo;v(jo,"assign",(function(t,r,e,n){var i,o,u;if(0===t){for(u=0;u<Ao.length;u++)r[n]=0,n+=e;return r}for(o=(4294967295&t)>>>0,i=Eo(t/4294967296),bo?(Oo.setUint32(0,o,bo),Oo.setUint32(4,i,bo)):(Oo.setUint32(0,i,bo),Oo.setUint32(4,o,bo)),u=0;u<Ao.length;u++)r[n]=Ao[u],n+=e;return r}));var Ro=Fe,To=fn,Po=mn,Uo=Ue,Io=to.enum,So=no.enum,Bo=jo.assign,xo=(0,Zi.enum)(),No=Io(),Co=So();var Mo=function(){var t,r,e,n,i,o,u,a,f,s,c,h,l,p,y;if(s=this._mode||"throw",a=this._submode||[s],n=33+16*(l=this._ndims)+(p=a.length),(f=this.__meta_dataview__)&&f.byteLength===n)return f;for(f=new Po(new To(n)),r=new Uo(f.buffer),o=this._shape,u=this._strides,i=this._dtype,t=this._bytesPerElement,c=0,f.setInt8(c,Ro?1:0),c+=1,f.setInt16(c,xo[i],Ro),Bo(l,r,1,c+=2),h=8*l,c+=8,y=0;y<l;y++)Bo(o[y],r,1,c),Bo(u[y]*t,r,1,c+h),c+=8;for(c+=h,Bo(this._offset*t,r,1,c),c+=8,f.setInt8(c,No[this._order]),c+=1,f.setInt8(c,Co[s]),Bo(p,r,1,c+=1),c+=8,y=0;y<p;y++)f.setInt8(c,Co[a[y]]),c+=1;return e=0,e|=this._flags.READONLY?4:0,f.setInt32(c,e,Ro),this.__meta_dataview__=f,f},Yo=Jt,Lo=v,Vo=qt,Do=Ht,Fo=Zt,ko=Qt,zo=tr,Go=rr,Jo=or,Wo=ur,Xo=ar,qo=fr,$o=sr,Ho=cr,Zo=gr,Ko=be,Qo=po,tu=Mo;function ru(t,r,e,n,i,o){var u,a,f,s,c;if(!(this instanceof ru))return new ru(t,r,e,n,i,o);for(s=1,c=0;c<e.length;c++)s*=e[c];return a=r.BYTES_PER_ELEMENT?r.BYTES_PER_ELEMENT*s:null,this._byteLength=a,this._bytesPerElement=Do(t),this._buffer=r,this._dtype=t,this._length=s,this._ndims=e.length,this._offset=i,this._order=o,this._shape=e,this._strides=n,this._accessors=Boolean(r.get&&r.set),this._iterationOrder=Fo(n),u=Jo(s,e,n,i,this._iterationOrder),f=ko(n),this._flags={ROW_MAJOR_CONTIGUOUS:Go(f,u),COLUMN_MAJOR_CONTIGUOUS:zo(f,u),READONLY:!1},this.__meta_dataview__=null,this}Lo(ru,"name","ndarray"),Vo(ru.prototype,"byteLength",(function(){return this._byteLength})),Vo(ru.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Vo(ru.prototype,"data",(function(){return this._buffer})),Vo(ru.prototype,"dtype",(function(){return this._dtype})),Vo(ru.prototype,"flags",(function(){return Wo(this._flags)})),Vo(ru.prototype,"length",(function(){return this._length})),Vo(ru.prototype,"ndims",(function(){return this._ndims})),Vo(ru.prototype,"offset",(function(){return this._offset})),Vo(ru.prototype,"order",(function(){return this._order})),Vo(ru.prototype,"shape",(function(){return this._shape.slice()})),Vo(ru.prototype,"strides",(function(){return this._strides.slice()})),Lo(ru.prototype,"get",Ho),Lo(ru.prototype,"iget",Xo),Lo(ru.prototype,"set",$o),Lo(ru.prototype,"iset",qo),Lo(ru.prototype,"toString",Ko),Lo(ru.prototype,"toJSON",Zo),Lo(ru.prototype,"__array_meta_dataview__",Yo()?Qo:tu);var eu=ru,nu=eu;var iu=function(t){return t instanceof nu||null!==t&&"object"==typeof t&&"object"==typeof t.data&&"object"==typeof t.shape&&"object"==typeof t.strides&&"number"==typeof t.offset&&"string"==typeof t.order&&"number"==typeof t.ndims&&"string"==typeof t.dtype&&"number"==typeof t.length&&"object"==typeof t.flags&&"function"==typeof t.get&&"function"==typeof t.set},ou=iu;var uu=function(t){return ou(t)&&2===t.ndims&&2===t.shape.length&&2===t.strides.length};var au=function(t){return uu(t)&&t.shape[0]===t.shape[1]},fu=iu;var su=function(t){return fu(t)&&1===t.ndims&&1===t.shape.length&&1===t.strides.length},cu=ht.isPrimitive;var hu=function(t){return cu(t)&&t>=0},lu=ht.isObject;var pu=function(t){return lu(t)&&t.valueOf()>=0},yu=hu,gu=pu;var vu=v,du=function(t){return yu(t)||gu(t)},mu=pu;vu(du,"isPrimitive",hu),vu(du,"isObject",mu);var wu=du,bu=$;var _u=function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&bu(t.length)&&t.length>=0&&t.length<=4294967295};var Eu=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var e,n;if(!_u(r))return!1;if(0===(e=r.length))return!1;for(n=0;n<e;n++)if(!1===t(r[n]))return!1;return!0}},Au=Eu,Ou=wu,ju=v,Ru=Au,Tu=Ru(Ou);ju(Tu,"primitives",Ru(Ou.isPrimitive)),ju(Tu,"objects",Ru(Ou.isObject));var Pu=Tu,Uu=ht,Iu=v,Su=Au,Bu=Su(Uu);Iu(Bu,"primitives",Su(Uu.isPrimitive)),Iu(Bu,"objects",Su(Uu.isObject));var xu=Bu,Nu=to(),Cu=Nu.length;var Mu=function(t){var r;for(r=0;r<Cu;r++)if(t===Nu[r])return!0;return!1},Yu=Zi(),Lu=Yu.length;var Vu=function(t){var r;for(r=0;r<Lu;r++)if(t===Yu[r])return!0;return!1},Du=nr;var Fu=function(t,r,e,n){var i=Du(r,e,n);return i[0]>=0&&i[1]<t},ku=Fu;var zu=function(t){var r,e,n;if(0===(r=t.length))return 0;for(e=1,n=0;n<r;n++)e*=t[n];return e};var Gu=function(t){var r=typeof t;return null===t||"object"!==r&&"function"!==r?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+t+"`."):null},Ju=Object.create;function Wu(){}var Xu=function(t){return Wu.prototype=t,new Wu},qu=p,$u=Gu,Hu="function"==typeof Ju?Ju:Xu;var Zu=function(t,r){var e=$u(t);if(e)throw e;if(e=$u(r))throw e;if(void 0===r.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+r.prototype+"`.");return t.prototype=Hu(r.prototype),qu(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t}),t},Ku=Zu,Qu={mode:"throw",readonly:!1};var ta=function(t,r){return t<0?0:t>r?r:t},ra=function(t,r){var e=r+1;return t<0?((t+=e)<0&&0!==(t%=e)&&(t+=e),t):t>r?((t-=e)>r&&(t%=e),t):t};var ea=function(t,r,e){if("clamp"===e)return ta(t,r);if("wrap"===e)return ra(t,r);if(t<0||t>r)throw new RangeError("invalid argument. Index must be on the interval: [0,"+r+"]. Value: `"+t+"`.");return t},na=ea,ia=ht.isPrimitive,oa=na,ua=eu.prototype.iget;var aa=function(t){if(this._ndims>0){if(!ia(t))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+t+"`.");return t=oa(t,this._length-1,this._mode),ua.call(this,t)}return ua.call(this)},fa=ht.isPrimitive,sa=na,ca=eu.prototype.iset;var ha=function(t,r){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!fa(t))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+t+"`.");t=sa(t,this._length-1,this._mode),ca.call(this,t,r)}else ca.call(this,t);return this},la=ht.isPrimitive,pa=na;var ya=function(){var t,r,e,n;if(arguments.length!==this._ndims)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(t=this._offset,e=this._submode.length,n=0;n<arguments.length;n++){if(!la(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");r=pa(arguments[n],this._shape[n]-1,this._submode[n%e]),t+=this._strides[n]*r}return this._accessors?this._buffer.get(t):this._buffer[t]},ga=ht.isPrimitive,va=na;var da=function(){var t,r,e,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(t=this._offset,e=this._submode.length,n=0;n<arguments.length-1;n++){if(!ga(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");r=va(arguments[n],this._shape[n]-1,this._submode[n%e]),t+=this._strides[n]*r}return this._accessors?this._buffer.set(arguments[n],t):this._buffer[t]=arguments[n],this};var ma=function(t,r){var e,n;for(e=[],n=0;n<r;n++)e.push(t[n]);return e},wa=zr;var ba=function(t){return"object"==typeof t&&null!==t&&!wa(t)},_a=Object.getPrototypeOf;var Ea=function(t){return t.__proto__},Aa=S,Oa=Ea;var ja=function(t){var r=Oa(t);return r||null===r?r:"[object Function]"===Aa(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null},Ra=_a,Ta=ja,Pa=ue(Object.getPrototypeOf)?Ra:Ta;var Ua=function(t){return null==t?null:(t=Object(t),Pa(t))},Ia=ba,Sa=ue,Ba=Ua,xa=O,Na=S,Ca=Object.prototype;var Ma=function(t){var r;return!!Ia(t)&&(!(r=Ba(t))||!xa(t,"constructor")&&xa(r,"constructor")&&Sa(r.constructor)&&"[object Function]"===Na(r.constructor)&&xa(r,"isPrototypeOf")&&Sa(r.isPrototypeOf)&&(r===Ca||function(t){var r;for(r in t)if(!xa(t,r))return!1;return!0}(t)))},Ya=Ma,La=no(),Va=La.length;var Da=Ya,Fa=O,ka=zr,za=function(t){var r;for(r=0;r<Va;r++)if(t===La[r])return!0;return!1},Ga=xt.isPrimitive;var Ja=function(t,r){var e;if(!Da(r))return new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");if(Fa(r,"mode")&&(t.mode=r.mode,!za(t.mode)))return new TypeError("invalid option. `mode` option must be a recognized mode. Option: `"+t.mode+"`.");if(Fa(r,"submode")){if(t.submode=r.submode,!ka(t.submode))return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+t.submode+"`.");if(0===t.submode.length)return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+t.submode.join(",")+"`.");for(e=0;e<t.submode.length;e++)if(!za(t.submode[e]))return new TypeError("invalid option. Each `submode` must be a recognized modes. Option: `"+t.submode[e]+"`.");t.submode=t.submode.slice()}return Fa(r,"readonly")&&(t.readonly=r.readonly,!Ga(t.readonly))?new TypeError("invalid option. `readonly` option must be a boolean. Option: `"+t.readonly+"`."):null},Wa=v,Xa=yi,qa=Pu.primitives,$a=wu.isPrimitive,Ha=xu.primitives,Za=ue,Ka=Mu,Qa=Vu,tf=ku,rf=zu,ef=eu,nf=Qu,of=aa,uf=ha,af=ya,ff=da,sf=ma,cf=Ja;function hf(t,r,e,n,i,o,u){var a,f,s,c,h;if(!(this instanceof hf))return arguments.length<7?new hf(t,r,e,n,i,o):new hf(t,r,e,n,i,o,u);if(!Qa(t))throw new TypeError("invalid argument. `dtype` argument must be a supported ndarray data type. Value: `"+t+"`.");if(!Xa(r))throw new TypeError("invalid argument. `buffer` argument must be an array-like object, typed-array-like, or a Buffer. Value: `"+r+"`.");if(r.get&&r.set&&(!Za(r.get)||!Za(r.set)))throw new TypeError("invalid argument. `buffer` argument `get` and `set` properties must be functions. Value: `"+r+"`.");if(!qa(e)&&(!Xa(e)||e.length>0))throw new TypeError("invalid argument. `shape` argument must be an array-like object containing nonnegative integers. Value: `"+e+"`.");if((a=e.length)>32767)throw new RangeError("invalid argument. Number of dimensions must not exceed 32767 due to stack limits. Value: `"+a+"`.");if(!Ha(n))throw new TypeError("invalid argument. `strides` argument must be an array-like object containing integers. Value: `"+n+"`.");if(a>0){if(n.length!==a)throw new RangeError("invalid argument. `strides` argument length must match the number of dimensions. Expected number of dimensions: "+a+". Strides length: "+n.length+".")}else{if(1!==n.length)throw new RangeError("invalid argument. `strides` length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError("invalid argument. `strides` argument must contain a single element equal to `0`. Value: `"+n[0]+"`.")}if(!$a(i))throw new TypeError("invalid argument. `offset` argument must be a nonnegative integer. Value: `"+i+"`.");if(!Ka(o))throw new TypeError("invalid argument. `order` argument must be a supported order. Value: `"+o+"`.");if(a>0&&!tf(r.length,e,n,i)&&rf(e)>0)throw new Error("invalid arguments. The input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((f={}).mode=nf.mode,f.readonly=nf.readonly,arguments.length>6&&(s=cf(f,u)))throw s;return this._mode=f.mode,void 0===f.submode&&(f.submode=[this._mode]),this._submode=f.submode,c=sf(e,a),h=sf(n,a||1),ef.call(this,t,r,c,h,i,o),this._flags.READONLY=f.readonly,this}Ku(hf,ef),Wa(hf,"name","ndarray"),Wa(hf.prototype,"get",af),Wa(hf.prototype,"iget",of),Wa(hf.prototype,"set",ff),Wa(hf.prototype,"iset",uf);var lf=hf,pf=Ua,yf=S;var gf=function(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Error)return!0;for(;t;){if("[object Error]"===yf(t))return!0;t=pf(t)}return!1};var vf=function(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/},df=vf;v(df,"REGEXP",vf());var mf=Tr.isPrimitive,wf=df;var bf=function(t){if(!mf(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");return(t=wf().exec(t))?new RegExp(t[1],t[2]):null},_f=void 0!==Object.getOwnPropertyNames,Ef=Object.getOwnPropertyNames;var Af=Gi;var Of=_f?function(t){return Ef(Object(t))}:function(t){return Af(Object(t))},jf=void 0!==Object.getOwnPropertyDescriptor,Rf=Object.getOwnPropertyDescriptor;var Tf=O;var Pf=jf?function(t,r){var e;return null==t||void 0===(e=Rf(t,r))?null:e}:function(t,r){return Tf(t,r)?{configurable:!0,enumerable:!0,writable:!0,value:t[r]}:null},Uf=[],If=[],Sf="undefined"!=typeof Uint8Array?Uint8Array:Array,Bf=!1;function xf(){Bf=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=t.length;r<e;++r)Uf[r]=t[r],If[t.charCodeAt(r)]=r;If["-".charCodeAt(0)]=62,If["_".charCodeAt(0)]=63}function Nf(t,r,e){for(var n,i,o=[],u=r;u<e;u+=3)n=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o.push(Uf[(i=n)>>18&63]+Uf[i>>12&63]+Uf[i>>6&63]+Uf[63&i]);return o.join("")}function Cf(t){var r;Bf||xf();for(var e=t.length,n=e%3,i="",o=[],u=16383,a=0,f=e-n;a<f;a+=u)o.push(Nf(t,a,a+u>f?f:a+u));return 1===n?(r=t[e-1],i+=Uf[r>>2],i+=Uf[r<<4&63],i+="=="):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=Uf[r>>10],i+=Uf[r>>4&63],i+=Uf[r<<2&63],i+="="),o.push(i),o.join("")}function Mf(t,r,e,n,i){var o,u,a=8*i-n-1,f=(1<<a)-1,s=f>>1,c=-7,h=e?i-1:0,l=e?-1:1,p=t[r+h];for(h+=l,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[r+h],h+=l,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=n;c>0;u=256*u+t[r+h],h+=l,c-=8);if(0===o)o=1-s;else{if(o===f)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,n),o-=s}return(p?-1:1)*u*Math.pow(2,o-n)}function Yf(t,r,e,n,i,o){var u,a,f,s=8*o-i-1,c=(1<<s)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,g=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,u=c):(u=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-u))<1&&(u--,f*=2),(r+=u+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(u++,f/=2),u+h>=c?(a=0,u=c):u+h>=1?(a=(r*f-1)*Math.pow(2,i),u+=h):(a=r*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;t[e+p]=255&a,p+=y,a/=256,i-=8);for(u=u<<i|a,s+=i;s>0;t[e+p]=255&u,p+=y,u/=256,s-=8);t[e+p-y]|=128*g}var Lf={}.toString,Vf=Array.isArray||function(t){return"[object Array]"==Lf.call(t)};zf.TYPED_ARRAY_SUPPORT=void 0===Mt.TYPED_ARRAY_SUPPORT||Mt.TYPED_ARRAY_SUPPORT;var Df=Ff();function Ff(){return zf.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function kf(t,r){if(Ff()<r)throw new RangeError("Invalid typed array length");return zf.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=zf.prototype:(null===t&&(t=new zf(r)),t.length=r),t}function zf(t,r,e){if(!(zf.TYPED_ARRAY_SUPPORT||this instanceof zf))return new zf(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return Wf(this,t)}return Gf(this,t,r,e)}function Gf(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n);zf.TYPED_ARRAY_SUPPORT?(t=r).__proto__=zf.prototype:t=Xf(t,r);return t}(t,r,e,n):"string"==typeof r?function(t,r,e){"string"==typeof e&&""!==e||(e="utf8");if(!zf.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Hf(r,e),i=(t=kf(t,n)).write(r,e);i!==n&&(t=t.slice(0,i));return t}(t,r,e):function(t,r){if($f(r)){var e=0|qf(r.length);return 0===(t=kf(t,e)).length||r.copy(t,0,0,e),t}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(n=r.length)!=n?kf(t,0):Xf(t,r);if("Buffer"===r.type&&Vf(r.data))return Xf(t,r.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function Jf(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Wf(t,r){if(Jf(r),t=kf(t,r<0?0:0|qf(r)),!zf.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function Xf(t,r){var e=r.length<0?0:0|qf(r.length);t=kf(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function qf(t){if(t>=Ff())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ff().toString(16)+" bytes");return 0|t}function $f(t){return!(null==t||!t._isBuffer)}function Hf(t,r){if($f(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Es(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return As(t).length;default:if(n)return Es(t).length;r=(""+r).toLowerCase(),n=!0}}function Zf(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hs(this,r,e);case"utf8":case"utf-8":return fs(this,r,e);case"ascii":return ss(this,r,e);case"latin1":case"binary":return cs(this,r,e);case"base64":return as(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ls(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Kf(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function Qf(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=zf.from(r,n)),$f(r))return 0===r.length?-1:ts(t,r,e,n,i);if("number"==typeof r)return r&=255,zf.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):ts(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function ts(t,r,e,n,i){var o,u=1,a=t.length,f=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,a/=2,f/=2,e/=2}function s(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var c=-1;for(o=e;o<a;o++)if(s(t,o)===s(r,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===f)return c*u}else-1!==c&&(o-=o-c),c=-1}else for(e+f>a&&(e=a-f),o=e;o>=0;o--){for(var h=!0,l=0;l<f;l++)if(s(t,o+l)!==s(r,l)){h=!1;break}if(h)return o}return-1}function rs(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var a=parseInt(r.substr(2*u,2),16);if(isNaN(a))return u;t[e+u]=a}return u}function es(t,r,e,n){return Os(Es(r,t.length-e),t,e,n)}function ns(t,r,e,n){return Os(function(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(r),t,e,n)}function is(t,r,e,n){return ns(t,r,e,n)}function os(t,r,e,n){return Os(As(r),t,e,n)}function us(t,r,e,n){return Os(function(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}(r,t.length-e),t,e,n)}function as(t,r,e){return 0===r&&e===t.length?Cf(t):Cf(t.slice(r,e))}function fs(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,a,f,s=t[i],c=null,h=s>239?4:s>223?3:s>191?2:1;if(i+h<=e)switch(h){case 1:s<128&&(c=s);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&s)<<6|63&o)>127&&(c=f);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(f=(15&s)<<12|(63&o)<<6|63&u)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:o=t[i+1],u=t[i+2],a=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&a)&&(f=(15&s)<<18|(63&o)<<12|(63&u)<<6|63&a)>65535&&f<1114112&&(c=f)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(t){var r=t.length;if(r<=4096)return String.fromCharCode.apply(String,t);var e="",n=0;for(;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return e}(n)}zf.poolSize=8192,zf._augment=function(t){return t.__proto__=zf.prototype,t},zf.from=function(t,r,e){return Gf(null,t,r,e)},zf.TYPED_ARRAY_SUPPORT&&(zf.prototype.__proto__=Uint8Array.prototype,zf.__proto__=Uint8Array),zf.alloc=function(t,r,e){return function(t,r,e,n){return Jf(r),r<=0?kf(t,r):void 0!==e?"string"==typeof n?kf(t,r).fill(e,n):kf(t,r).fill(e):kf(t,r)}(null,t,r,e)},zf.allocUnsafe=function(t){return Wf(null,t)},zf.allocUnsafeSlow=function(t){return Wf(null,t)},zf.isBuffer=js,zf.compare=function(t,r){if(!$f(t)||!$f(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},zf.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},zf.concat=function(t,r){if(!Vf(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return zf.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=zf.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var o=t[e];if(!$f(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},zf.byteLength=Hf,zf.prototype._isBuffer=!0,zf.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Kf(this,r,r+1);return this},zf.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Kf(this,r,r+3),Kf(this,r+1,r+2);return this},zf.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Kf(this,r,r+7),Kf(this,r+1,r+6),Kf(this,r+2,r+5),Kf(this,r+3,r+4);return this},zf.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?fs(this,0,t):Zf.apply(this,arguments)},zf.prototype.equals=function(t){if(!$f(t))throw new TypeError("Argument must be a Buffer");return this===t||0===zf.compare(this,t)},zf.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},zf.prototype.compare=function(t,r,e,n,i){if(!$f(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),a=Math.min(o,u),f=this.slice(n,i),s=t.slice(r,e),c=0;c<a;++c)if(f[c]!==s[c]){o=f[c],u=s[c];break}return o<u?-1:u<o?1:0},zf.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},zf.prototype.indexOf=function(t,r,e){return Qf(this,t,r,e,!0)},zf.prototype.lastIndexOf=function(t,r,e){return Qf(this,t,r,e,!1)},zf.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return rs(this,t,r,e);case"utf8":case"utf-8":return es(this,t,r,e);case"ascii":return ns(this,t,r,e);case"latin1":case"binary":return is(this,t,r,e);case"base64":return os(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return us(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},zf.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ss(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function cs(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function hs(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=_s(t[o]);return i}function ls(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function ps(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function ys(t,r,e,n,i,o){if(!$f(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function gs(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function vs(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function ds(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ms(t,r,e,n,i){return i||ds(t,0,e,4),Yf(t,r,e,n,23,4),e+4}function ws(t,r,e,n,i){return i||ds(t,0,e,8),Yf(t,r,e,n,52,8),e+8}zf.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),zf.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=zf.prototype;else{var i=r-t;e=new zf(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},zf.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||ps(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},zf.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||ps(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},zf.prototype.readUInt8=function(t,r){return r||ps(t,1,this.length),this[t]},zf.prototype.readUInt16LE=function(t,r){return r||ps(t,2,this.length),this[t]|this[t+1]<<8},zf.prototype.readUInt16BE=function(t,r){return r||ps(t,2,this.length),this[t]<<8|this[t+1]},zf.prototype.readUInt32LE=function(t,r){return r||ps(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},zf.prototype.readUInt32BE=function(t,r){return r||ps(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},zf.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||ps(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},zf.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||ps(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},zf.prototype.readInt8=function(t,r){return r||ps(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},zf.prototype.readInt16LE=function(t,r){r||ps(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},zf.prototype.readInt16BE=function(t,r){r||ps(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},zf.prototype.readInt32LE=function(t,r){return r||ps(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},zf.prototype.readInt32BE=function(t,r){return r||ps(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},zf.prototype.readFloatLE=function(t,r){return r||ps(t,4,this.length),Mf(this,t,!0,23,4)},zf.prototype.readFloatBE=function(t,r){return r||ps(t,4,this.length),Mf(this,t,!1,23,4)},zf.prototype.readDoubleLE=function(t,r){return r||ps(t,8,this.length),Mf(this,t,!0,52,8)},zf.prototype.readDoubleBE=function(t,r){return r||ps(t,8,this.length),Mf(this,t,!1,52,8)},zf.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||ys(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},zf.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||ys(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},zf.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,1,255,0),zf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},zf.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,2,65535,0),zf.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):gs(this,t,r,!0),r+2},zf.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,2,65535,0),zf.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):gs(this,t,r,!1),r+2},zf.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,4,4294967295,0),zf.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):vs(this,t,r,!0),r+4},zf.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,4,4294967295,0),zf.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):vs(this,t,r,!1),r+4},zf.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);ys(this,t,r,e,i-1,-i)}var o=0,u=1,a=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===a&&0!==this[r+o-1]&&(a=1),this[r+o]=(t/u>>0)-a&255;return r+e},zf.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);ys(this,t,r,e,i-1,-i)}var o=e-1,u=1,a=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[r+o+1]&&(a=1),this[r+o]=(t/u>>0)-a&255;return r+e},zf.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,1,127,-128),zf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},zf.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,2,32767,-32768),zf.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):gs(this,t,r,!0),r+2},zf.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,2,32767,-32768),zf.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):gs(this,t,r,!1),r+2},zf.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,4,2147483647,-2147483648),zf.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):vs(this,t,r,!0),r+4},zf.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||ys(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),zf.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):vs(this,t,r,!1),r+4},zf.prototype.writeFloatLE=function(t,r,e){return ms(this,t,r,!0,e)},zf.prototype.writeFloatBE=function(t,r,e){return ms(this,t,r,!1,e)},zf.prototype.writeDoubleLE=function(t,r,e){return ws(this,t,r,!0,e)},zf.prototype.writeDoubleBE=function(t,r,e){return ws(this,t,r,!1,e)},zf.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!zf.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},zf.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!zf.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=$f(t)?t:Es(new zf(t,n).toString()),a=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%a]}return this};var bs=/[^+\/0-9A-Za-z-_]/g;function _s(t){return t<16?"0"+t.toString(16):t.toString(16)}function Es(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function As(t){return function(t){var r,e,n,i,o,u;Bf||xf();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,u=new Sf(3*a/4-o),n=o>0?a-4:a;var f=0;for(r=0,e=0;r<n;r+=4,e+=3)i=If[t.charCodeAt(r)]<<18|If[t.charCodeAt(r+1)]<<12|If[t.charCodeAt(r+2)]<<6|If[t.charCodeAt(r+3)],u[f++]=i>>16&255,u[f++]=i>>8&255,u[f++]=255&i;return 2===o?(i=If[t.charCodeAt(r)]<<2|If[t.charCodeAt(r+1)]>>4,u[f++]=255&i):1===o&&(i=If[t.charCodeAt(r)]<<10|If[t.charCodeAt(r+1)]<<4|If[t.charCodeAt(r+2)]>>2,u[f++]=i>>8&255,u[f++]=255&i),u}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(bs,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Os(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function js(t){return null!=t&&(!!t._isBuffer||Rs(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Rs(t.slice(0,0))}(t))}function Rs(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Ts=Object.freeze({__proto__:null,Buffer:zf,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),zf.alloc(+t)},isBuffer:js,kMaxLength:Df}),Ps=$r,Us=t(Object.freeze({__proto__:null}));var Is=function(){var t,r;if("function"!=typeof Us)return!1;try{r="function"==typeof Us.from?Us.from([1,2,3,4]):new Us([1,2,3,4]),t=Ps(r)&&1===r[0]&&2===r[1]&&3===r[2]&&4===r[3]}catch(r){t=!1}return t},Ss=Is;var Bs=t(Ts).Buffer,xs=function(){throw new Error("not implemented")},Ns=Ss()?Bs:xs,Cs=ue(Ns.from),Ms=$r,Ys=Ns;var Ls=function(t){if(!Ms(t))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+t+"`");return Ys.from(t)},Vs=$r,Ds=Ns;var Fs=function(t){if(!Vs(t))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+t+"`");return new Ds(t)},ks=Cs?Ls:Fs,zs=S,Gs="function"==typeof Int8Array;var Js="function"==typeof Int8Array?Int8Array:null,Ws=function(t){return Gs&&t instanceof Int8Array||"[object Int8Array]"===zs(t)},Xs=Js;var qs=function(){var t,r;if("function"!=typeof Xs)return!1;try{r=new Xs([1,3.14,-3.14,128]),t=Ws(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-128===r[3]}catch(r){t=!1}return t};var $s="function"==typeof Int8Array?Int8Array:void 0,Hs=function(){throw new Error("not implemented")},Zs=qs()?$s:Hs,Ks=S,Qs="function"==typeof Uint8ClampedArray;var tc="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,rc=function(t){return Qs&&t instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Ks(t)},ec=tc;var nc=function(){var t,r;if("function"!=typeof ec)return!1;try{r=new ec([-1,0,1,3.14,4.99,255,256]),t=rc(r)&&0===r[0]&&0===r[1]&&1===r[2]&&3===r[3]&&5===r[4]&&255===r[5]&&255===r[6]}catch(r){t=!1}return t};var ic="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,oc=function(){throw new Error("not implemented")},uc=nc()?ic:oc,ac=S,fc="function"==typeof Int16Array;var sc="function"==typeof Int16Array?Int16Array:null,cc=function(t){return fc&&t instanceof Int16Array||"[object Int16Array]"===ac(t)},hc=sc;var lc=function(){var t,r;if("function"!=typeof hc)return!1;try{r=new hc([1,3.14,-3.14,32768]),t=cc(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-32768===r[3]}catch(r){t=!1}return t};var pc="function"==typeof Int16Array?Int16Array:void 0,yc=function(){throw new Error("not implemented")},gc=lc()?pc:yc,vc=S,dc="function"==typeof Int32Array;var mc="function"==typeof Int32Array?Int32Array:null,wc=function(t){return dc&&t instanceof Int32Array||"[object Int32Array]"===vc(t)},bc=mc;var _c=function(){var t,r;if("function"!=typeof bc)return!1;try{r=new bc([1,3.14,-3.14,2147483648]),t=wc(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-2147483648===r[3]}catch(r){t=!1}return t};var Ec="function"==typeof Int32Array?Int32Array:void 0,Ac=function(){throw new Error("not implemented")},Oc=_c()?Ec:Ac,jc=S,Rc="function"==typeof Uint32Array;var Tc="function"==typeof Uint32Array?Uint32Array:null,Pc=function(t){return Rc&&t instanceof Uint32Array||"[object Uint32Array]"===jc(t)},Uc=Tc;var Ic=function(){var t,r;if("function"!=typeof Uc)return!1;try{r=new Uc(r=[1,3.14,-3.14,4294967296,4294967297]),t=Pc(r)&&1===r[0]&&3===r[1]&&4294967293===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var Sc="function"==typeof Uint32Array?Uint32Array:void 0,Bc=function(){throw new Error("not implemented")},xc=Ic()?Sc:Bc,Nc=S,Cc="function"==typeof Float32Array;var Mc="function"==typeof Float32Array?Float32Array:null,Yc=function(t){return Cc&&t instanceof Float32Array||"[object Float32Array]"===Nc(t)},Lc=J,Vc=Mc;var Dc=function(){var t,r;if("function"!=typeof Vc)return!1;try{r=new Vc([1,3.14,-3.14,5e40]),t=Yc(r)&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===Lc}catch(r){t=!1}return t};var Fc,kc="function"==typeof Float32Array?Float32Array:void 0,zc=function(){throw new Error("not implemented")};Fc=Dc()?kc:zc;var Gc=Zs,Jc=Ue,Wc=uc,Xc=gc,qc=Ve,$c=Oc,Hc=xc,Zc=Fc,Kc=Qe;function Qc(t){return new Gc(t)}function th(t){return new Jc(t)}function rh(t){return new Wc(t)}function eh(t){return new Xc(t)}function nh(t){return new qc(t)}function ih(t){return new $c(t)}function oh(t){return new Hc(t)}function uh(t){return new Zc(t)}function ah(t){return new Kc(t)}var fh=O,sh=zr,ch=$r,hh=gf,lh=ie,ph=bf,yh=bi,gh=Gi,vh=Of,dh=Pf,mh=Ua,wh=p,bh=ks,_h={int8array:Qc,uint8array:th,uint8clampedarray:rh,int16array:eh,uint16array:nh,int32array:ih,uint32array:oh,float32array:uh,float64array:ah};function Eh(t,r,e,n,i){var o,u,a,f,s,c,h,l,p,y;if(i-=1,"object"!=typeof t||null===t)return t;if(ch(t))return bh(t);if(hh(t))return function(t){var r,e,n,i,o,u,a=[],f=[];for(o=new t.constructor(t.message),a.push(t),f.push(o),t.stack&&(o.stack=t.stack),t.code&&(o.code=t.code),t.errno&&(o.errno=t.errno),t.syscall&&(o.syscall=t.syscall),r=gh(t),u=0;u<r.length;u++)i=r[u],e=dh(t,i),fh(e,"value")&&(n=sh(t[i])?[]:{},e.value=Eh(t[i],n,a,f,-1)),wh(o,i,e);return o}(t);if("date"===(a=lh(t)))return new Date(+t);if("regexp"===a)return ph(t.toString());if("set"===a)return new Set(t);if("map"===a)return new Map(t);if("string"===a||"boolean"===a||"number"===a)return t.valueOf();if(s=_h[a])return s(t);if("array"!==a&&"object"!==a)return"function"==typeof Object.freeze?function(t){var r,e,n,i,o,u,a,f;for(r=[],i=[],a=Object.create(mh(t)),r.push(t),i.push(a),e=vh(t),f=0;f<e.length;f++)n=e[f],o=dh(t,n),fh(o,"value")&&(u=sh(t[n])?[]:{},o.value=Eh(t[n],u,r,i,-1)),wh(a,n,o);return Object.isExtensible(t)||Object.preventExtensions(a),Object.isSealed(t)&&Object.seal(a),Object.isFrozen(t)&&Object.freeze(a),a}(t):{};if(u=gh(t),i>0)for(o=a,y=0;y<u.length;y++)l=t[c=u[y]],a=lh(l),"object"!=typeof l||null===l||"array"!==a&&"object"!==a||ch(l)?"object"===o?(f=dh(t,c),fh(f,"value")&&(f.value=Eh(l)),wh(r,c,f)):r[c]=Eh(l):-1===(p=yh(e,l))?(h=sh(l)?new Array(l.length):{},e.push(l),n.push(h),"array"===o?r[c]=Eh(l,h,e,n,i):(f=dh(t,c),fh(f,"value")&&(f.value=Eh(l,h,e,n,i)),wh(r,c,f))):r[c]=n[p];else if("array"===a)for(y=0;y<u.length;y++)r[c=u[y]]=t[c];else for(y=0;y<u.length;y++)c=u[y],f=dh(t,c),wh(r,c,f);return Object.isExtensible(t)||Object.preventExtensions(r),Object.isSealed(t)&&Object.seal(r),Object.isFrozen(t)&&Object.freeze(r),r}var Ah=zr,Oh=wu.isPrimitive,jh=J,Rh=Eh;var Th=Ya,Ph=O,Uh=Tr.isPrimitive;var Ih={url:"https://stdlib.io/docs/api/latest/error-decoder.html",message:"Minified stdlib error code: {{code}}. Visit {{url}} for the full message."},Sh=ge,Bh=function(t,r){var e;if(arguments.length>1){if(!Oh(r))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+r+"`.");if(0===r)return t}else r=jh;return e=Ah(t)?new Array(t.length):{},Rh(t,e,[t],[e],r)},xh=function(t,r){return Th(r)?Ph(r,"url")&&(t.url=r.url,!Uh(t.url))?new TypeError("invalid option. `url` option must be a string primitive. Option: `"+t.url+"`."):Ph(r,"message")&&(t.message=r.message,!Uh(t.message))?new TypeError("invalid option. `message` option must be a string primitive. Option: `"+t.message+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.")},Nh=Ih;var Ch=function(t){var r,e;if(r=Bh(Nh),e=xh(r,t))throw e;return function(){var t,e,n=arguments[0],i=r.url+"?code="+n;for(e=1;e<arguments.length;e++)i+="&arg[]="+encodeURIComponent(arguments[e]);return t=Sh(r.message,"{{url}}",i),t=Sh(t,"{{code}}",n)}},Mh=Ch(Ih);v(Mh,"factory",Ch);var Yh=_t.isPrimitive,Lh=au,Vh=su,Dh=Qe,Fh=lf,kh=eu,zh=zu,Gh=Mh;function Jh(t,r){return(r?kh:Fh)("float64",new Dh(t*t),[t,t],[t,1],0,"row-major")}function Wh(t){var r;return r=new Dh(t),kh("float64",r,[t],[1],0,"row-major")}var Xh=function(t,r){var e,n,i,o,u,a;if(a=0,Yh(t))n=Jh(e=t,!1);else{if(!Lh(t))throw new TypeError(Gh("invalid argument. First argument must either specify the order of the covariance matrix or be a square two-dimensional ndarray for storing the covariance matrix. Value: `%s`.",t));e=t.shape[0],n=t}if(u=new Dh(e),o=Jh(e,!0),arguments.length>1){if(!Vh(r))throw new TypeError(Gh("invalid argument. Second argument must be a one-dimensional ndarray. Value: `%s`.",r));if(zh(r.shape)!==e)throw new Error(Gh("invalid argument. The number of elements (means) in the second argument must match covariance matrix dimensions. Expected: `%u`. Actual: `%u`.",e,zh(r.shape)));return i=r,s}return i=Wh(e),f;function f(t){var r,f,s,c,h,l,p,y,g;if(0===arguments.length)return 0===a?null:n;if(!Vh(t))throw new TypeError(Gh("invalid argument. Must provide a one-dimensional ndarray. Value: `%s`.",t));if(t.shape[0]!==e)throw new Error(Gh("0dUA7",e,t.shape[0]));for(p=(l=a)/(a+=1),f=l||1,y=0;y<e;y++)for(h=i.get(y),u[y]=t.get(y)-h,h+=u[y]/a,i.set(y,h),s=p*u[y],g=0;g<=y;g++)c=o.get(y,g)+s*u[g],o.set(y,g,c),o.set(g,y,c),r=c/f,n.set(y,g,r),n.set(g,y,r);return n}function s(t){var r,f,s,c,h;if(0===arguments.length)return 0===a?null:n;if(!Vh(t))throw new TypeError(Gh("invalid argument. Must provide a one-dimensional ndarray. Value: `%s`.",t));if(t.shape[0]!==e)throw new Error(Gh("0dUA7",e,t.shape[0]));for(a+=1,c=0;c<e;c++)for(u[c]=t.get(c)-i.get(c),s=u[c],h=0;h<=c;h++)f=o.get(c,h)+s*u[h],o.set(c,h,f),o.set(h,c,f),r=f/a,n.set(c,h,r),n.set(h,c,r);return n}};export{Xh as default};
//# sourceMappingURL=mod.js.map
